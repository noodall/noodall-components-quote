<%= fields_for :node do |n| %>
  <%= n.fields_for slot_name, component do |f| %>
    <%= f.hidden_field :_type %>
    <p>
      <%= f.label :citation %><br/>
      <span class="input-wrap"><%= f.text_field :citation %></span>
    </p>
    <p>
      <%= f.label :quote %><br/>
      <span class="input-wrap"><%= f.text_area :quote, rows: 5 %></span>
    </p>
    <p class="file-selectable">
      <% unless component.asset.nil? %>
        <span class="file-detail"><%= component.asset.image? ? image_tag( component.asset.url('70x70#')  ) : asset_icon(component.asset) %></span>
      <% end -%>
      <span class="select-file" data-file-types="images">Select File</span>
      <%= f.hidden_field :asset_id, :class => "asset_id" %>
    </p>
    <p>
      <%= f.label :link %><br />
      <span class="input-wrap">
        <%= f.text_field :link %><br/>
        <span class="link-node">Content</span> |
        <span class="link-asset">Asset</span>
      </span>
    </p>
  <% end %>
<% end %>
